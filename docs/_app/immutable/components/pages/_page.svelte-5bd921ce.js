import{S as M,i as O,s as W,k as x,a as y,q as j,l as k,m as w,h,c as q,r as A,I as C,n as _,b,E,u as H,B as P,w as S,e as F,x as V,y as G,O as J,f as $,d as L,t as I,z as R,F as K,g as N,P as Q}from"../../chunks/index-72ec7abf.js";import{P as X,l as Y,L as Z}from"../../chunks/lodash-63ded280.js";import{k as ee,q as te}from"../../chunks/svelte-apollo-b4bf492e.js";function se(n){let t,r,s,l,a,c,m,g;return{c(){t=x("div"),r=x("figure"),s=x("img"),a=y(),c=x("div"),m=x("p"),g=j(n[1]),this.h()},l(p){t=k(p,"DIV",{class:!0});var u=w(t);r=k(u,"FIGURE",{class:!0});var v=w(r);s=k(v,"IMG",{src:!0,alt:!0,class:!0}),v.forEach(h),a=q(u),c=k(u,"DIV",{class:!0});var i=w(c);m=k(i,"P",{class:!0});var D=w(m);g=A(D,n[1]),D.forEach(h),i.forEach(h),u.forEach(h),this.h()},h(){C(s.src,l=n[0])||_(s,"src",l),_(s,"alt",n[1]),_(s,"class","rounded-xl"),_(r,"class","box-border px-6 pt-6"),_(m,"class","font-semibold"),_(c,"class","card-body items-center text-center"),_(t,"class","card card-compact bg-base-200 shadow-xl")},m(p,u){b(p,t,u),E(t,r),E(r,s),E(t,a),E(t,c),E(c,m),E(m,g)},p(p,[u]){u&1&&!C(s.src,l=p[0])&&_(s,"src",l),u&2&&_(s,"alt",p[1]),u&2&&H(g,p[1])},i:P,o:P,d(p){p&&h(t)}}}function ae(n,t,r){let{image:s=""}=t,{text:l=""}=t;return n.$$set=a=>{"image"in a&&r(0,s=a.image),"text"in a&&r(1,l=a.text)},[s,l]}class re extends M{constructor(t){super(),O(this,t,ae,se,W,{image:0,text:1})}}const le=ee`
	query GetRecipes($search: String!) {
		recipe(where: { name: { _ilike: $search } }) {
			id
			name
			image
		}
	}
`;function T(n,t,r){const s=n.slice();return s[5]=t[r],s}function U(n){let t,r,s,l;return r=new re({props:{text:n[5].name,image:n[5].image}}),{c(){t=x("div"),S(r.$$.fragment),s=y(),this.h()},l(a){t=k(a,"DIV",{class:!0});var c=w(t);V(r.$$.fragment,c),s=q(c),c.forEach(h),this.h()},h(){_(t,"class","break-inside-avoid mb-4")},m(a,c){b(a,t,c),G(r,t,null),E(t,s),l=!0},p(a,c){const m={};c&2&&(m.text=a[5].name),c&2&&(m.image=a[5].image),r.$set(m)},i(a){l||($(r.$$.fragment,a),l=!0)},o(a){I(r.$$.fragment,a),l=!1},d(a){a&&h(t),R(r)}}}function z(n){let t,r,s;return r=new Z({}),{c(){t=x("div"),S(r.$$.fragment),this.h()},l(l){t=k(l,"DIV",{class:!0});var a=w(t);V(r.$$.fragment,a),a.forEach(h),this.h()},h(){_(t,"class","w-full flex")},m(l,a){b(l,t,a),G(r,t,null),s=!0},i(l){s||($(r.$$.fragment,l),s=!0)},o(l){I(r.$$.fragment,l),s=!1},d(l){l&&h(t),R(r)}}}function ie(n){let t,r,s,l,a,c,m,g,p,u;t=new X({props:{text:"What to cook?"}});let v=n[1],i=[];for(let e=0;e<v.length;e+=1)i[e]=U(T(n,v,e));const D=e=>I(i[e],1,1,()=>{i[e]=null});let d=n[0].loading&&z();return{c(){S(t.$$.fragment),r=y(),s=x("input"),l=y(),a=x("div");for(let e=0;e<i.length;e+=1)i[e].c();c=y(),d&&d.c(),m=F(),this.h()},l(e){V(t.$$.fragment,e),r=q(e),s=k(e,"INPUT",{type:!0,placeholder:!0,class:!0}),l=q(e),a=k(e,"DIV",{class:!0});var o=w(a);for(let f=0;f<i.length;f+=1)i[f].l(o);o.forEach(h),c=q(e),d&&d.l(e),m=F(),this.h()},h(){_(s,"type","text"),_(s,"placeholder","Search ..."),_(s,"class","input w-full max-w-xs mt-6"),_(a,"class","mt-6 columns-2 gap-4")},m(e,o){G(t,e,o),b(e,r,o),b(e,s,o),b(e,l,o),b(e,a,o);for(let f=0;f<i.length;f+=1)i[f].m(a,null);b(e,c,o),d&&d.m(e,o),b(e,m,o),g=!0,p||(u=J(s,"input",n[3]),p=!0)},p(e,[o]){if(o&2){v=e[1];let f;for(f=0;f<v.length;f+=1){const B=T(e,v,f);i[f]?(i[f].p(B,o),$(i[f],1)):(i[f]=U(B),i[f].c(),$(i[f],1),i[f].m(a,null))}for(N(),f=v.length;f<i.length;f+=1)D(f);L()}e[0].loading?d?o&1&&$(d,1):(d=z(),d.c(),$(d,1),d.m(m.parentNode,m)):d&&(N(),I(d,1,1,()=>{d=null}),L())},i(e){if(!g){$(t.$$.fragment,e);for(let o=0;o<v.length;o+=1)$(i[o]);$(d),g=!0}},o(e){I(t.$$.fragment,e),i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)I(i[o]);I(d),g=!1},d(e){R(t,e),e&&h(r),e&&h(s),e&&h(l),e&&h(a),K(i,e),e&&h(c),d&&d.d(e),e&&h(m),p=!1,u()}}}function ne(n,t,r){let s,l,a,c=P,m=()=>(c(),c=Q(s,u=>r(0,a=u)),s);n.$$.on_destroy.push(()=>c());let g="%";const p=Y.debounce(u=>{console.log("dupa");const v=u.target;r(4,g=v.value?`%${v.value}%`:"%")},1e3);return n.$$.update=()=>{var u;n.$$.dirty&16&&m(r(2,s=te(le,{variables:{search:g}}))),n.$$.dirty&1&&r(1,l=((u=a.data)==null?void 0:u.recipe)||[])},[a,l,s,p,g]}class ue extends M{constructor(t){super(),O(this,t,ne,ie,W,{})}}export{ue as default};
