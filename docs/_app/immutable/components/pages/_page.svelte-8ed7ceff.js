import{S as M,i as O,s as W,k as x,a as y,q as j,l as k,m as w,h as p,c as q,r as A,I as C,n as g,b,E,u as H,B as P,w as S,e as F,x as V,y as G,O as J,f as $,d as L,t as I,z as R,F as K,g as N,P as Q}from"../../chunks/index-72ec7abf.js";import{P as X,L as Y}from"../../chunks/LoadingIcon-c6115cb4.js";import{k as Z,l as ee,q as te}from"../../chunks/svelte-apollo-12da84e9.js";function se(n){let t,r,a,l,s,c,m,v;return{c(){t=x("div"),r=x("figure"),a=x("img"),s=y(),c=x("div"),m=x("p"),v=j(n[1]),this.h()},l(_){t=k(_,"DIV",{class:!0});var u=w(t);r=k(u,"FIGURE",{class:!0});var h=w(r);a=k(h,"IMG",{src:!0,alt:!0,class:!0}),h.forEach(p),s=q(u),c=k(u,"DIV",{class:!0});var i=w(c);m=k(i,"P",{class:!0});var D=w(m);v=A(D,n[1]),D.forEach(p),i.forEach(p),u.forEach(p),this.h()},h(){C(a.src,l=n[0])||g(a,"src",l),g(a,"alt",n[1]),g(a,"class","rounded-xl"),g(r,"class","box-border px-6 pt-6"),g(m,"class","font-semibold"),g(c,"class","card-body items-center text-center"),g(t,"class","card card-compact bg-base-200 shadow-xl")},m(_,u){b(_,t,u),E(t,r),E(r,a),E(t,s),E(t,c),E(c,m),E(m,v)},p(_,[u]){u&1&&!C(a.src,l=_[0])&&g(a,"src",l),u&2&&g(a,"alt",_[1]),u&2&&H(v,_[1])},i:P,o:P,d(_){_&&p(t)}}}function ae(n,t,r){let{image:a=""}=t,{text:l=""}=t;return n.$$set=s=>{"image"in s&&r(0,a=s.image),"text"in s&&r(1,l=s.text)},[a,l]}class re extends M{constructor(t){super(),O(this,t,ae,se,W,{image:0,text:1})}}const le=Z`
	query GetRecipes($search: String!) {
		recipe(where: { name: { _ilike: $search } }) {
			id
			name
			image
		}
	}
`;function T(n,t,r){const a=n.slice();return a[5]=t[r],a}function U(n){let t,r,a,l;return r=new re({props:{text:n[5].name,image:n[5].image}}),{c(){t=x("div"),S(r.$$.fragment),a=y(),this.h()},l(s){t=k(s,"DIV",{class:!0});var c=w(t);V(r.$$.fragment,c),a=q(c),c.forEach(p),this.h()},h(){g(t,"class","break-inside-avoid mb-4")},m(s,c){b(s,t,c),G(r,t,null),E(t,a),l=!0},p(s,c){const m={};c&2&&(m.text=s[5].name),c&2&&(m.image=s[5].image),r.$set(m)},i(s){l||($(r.$$.fragment,s),l=!0)},o(s){I(r.$$.fragment,s),l=!1},d(s){s&&p(t),R(r)}}}function z(n){let t,r,a;return r=new Y({}),{c(){t=x("div"),S(r.$$.fragment),this.h()},l(l){t=k(l,"DIV",{class:!0});var s=w(t);V(r.$$.fragment,s),s.forEach(p),this.h()},h(){g(t,"class","w-full flex")},m(l,s){b(l,t,s),G(r,t,null),a=!0},i(l){a||($(r.$$.fragment,l),a=!0)},o(l){I(r.$$.fragment,l),a=!1},d(l){l&&p(t),R(r)}}}function ie(n){let t,r,a,l,s,c,m,v,_,u;t=new X({props:{text:"What to cook?"}});let h=n[1],i=[];for(let e=0;e<h.length;e+=1)i[e]=U(T(n,h,e));const D=e=>I(i[e],1,1,()=>{i[e]=null});let d=n[0].loading&&z();return{c(){S(t.$$.fragment),r=y(),a=x("input"),l=y(),s=x("div");for(let e=0;e<i.length;e+=1)i[e].c();c=y(),d&&d.c(),m=F(),this.h()},l(e){V(t.$$.fragment,e),r=q(e),a=k(e,"INPUT",{type:!0,placeholder:!0,class:!0}),l=q(e),s=k(e,"DIV",{class:!0});var o=w(s);for(let f=0;f<i.length;f+=1)i[f].l(o);o.forEach(p),c=q(e),d&&d.l(e),m=F(),this.h()},h(){g(a,"type","text"),g(a,"placeholder","Search ..."),g(a,"class","input w-full max-w-xs mt-6"),g(s,"class","mt-6 columns-2 gap-4")},m(e,o){G(t,e,o),b(e,r,o),b(e,a,o),b(e,l,o),b(e,s,o);for(let f=0;f<i.length;f+=1)i[f].m(s,null);b(e,c,o),d&&d.m(e,o),b(e,m,o),v=!0,_||(u=J(a,"input",n[3]),_=!0)},p(e,[o]){if(o&2){h=e[1];let f;for(f=0;f<h.length;f+=1){const B=T(e,h,f);i[f]?(i[f].p(B,o),$(i[f],1)):(i[f]=U(B),i[f].c(),$(i[f],1),i[f].m(s,null))}for(N(),f=h.length;f<i.length;f+=1)D(f);L()}e[0].loading?d?o&1&&$(d,1):(d=z(),d.c(),$(d,1),d.m(m.parentNode,m)):d&&(N(),I(d,1,1,()=>{d=null}),L())},i(e){if(!v){$(t.$$.fragment,e);for(let o=0;o<h.length;o+=1)$(i[o]);$(d),v=!0}},o(e){I(t.$$.fragment,e),i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)I(i[o]);I(d),v=!1},d(e){R(t,e),e&&p(r),e&&p(a),e&&p(l),e&&p(s),K(i,e),e&&p(c),d&&d.d(e),e&&p(m),_=!1,u()}}}function ne(n,t,r){let a,l,s,c=P,m=()=>(c(),c=Q(a,u=>r(0,s=u)),a);n.$$.on_destroy.push(()=>c());let v="%";const _=ee.debounce(u=>{const h=u.target;r(4,v=h.value?`%${h.value}%`:"%")},1e3);return n.$$.update=()=>{var u,h,i;n.$$.dirty&16&&m(r(2,a=te(le,{variables:{search:v}}))),n.$$.dirty&1&&r(1,l=s.data?[...(u=s.data)==null?void 0:u.recipe,...(h=s.data)==null?void 0:h.recipe,...(i=s.data)==null?void 0:i.recipe]:[])},[s,l,a,_,v]}class ue extends M{constructor(t){super(),O(this,t,ne,ie,W,{})}}export{ue as default};
